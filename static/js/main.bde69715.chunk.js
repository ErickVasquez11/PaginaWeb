(this.webpackJsonpproyectofinal=this.webpackJsonpproyectofinal||[]).push([[0],{31:function(e,t){},36:function(e,t,n){},62:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(18),s=n.n(c),o=(n(36),n(2)),i=n.n(o),l=n(4),u=n(6),d=n(3),b=n(8),f="https://posts-pw2021.herokuapp.com/api/v1",j={};j.loginAdmin=function(){var e=Object(l.a)(i.a.mark((function e(t,n){var r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(f,"/auth/signin"),{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({username:"".concat(t),password:"".concat(n)})});case 2:if(!(r=e.sent).ok){e.next=8;break}return e.next=6,r.json();case 6:return a=e.sent,e.abrupt("return",a);case 8:return e.abrupt("return",{});case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),j.verifyToken=function(){var e=Object(l.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(f,"/auth/whoami"),{method:"GET",headers:{Authorization:"Bearer ".concat(t)}});case 2:if(!(n=e.sent).ok){e.next=8;break}return e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",r);case 8:return e.abrupt("return",{});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j.createPost=function(){var e=Object(l.a)(i.a.mark((function e(t,n,r,a,c){var s,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"admin"!==n){e.next=10;break}return e.next=4,fetch("".concat(f,"/post/create"),{method:"POST",headers:{Authorization:"Bearer ".concat(t),"Content-type":"application/json"},body:JSON.stringify({title:"".concat(r),description:"".concat(a),image:"".concat(c)})});case 4:return s=e.sent,e.next=7,s.json();case 7:return o=e.sent,console.log(o),e.abrupt("return",o);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,n,r,a,c){return e.apply(this,arguments)}}(),j.Owned=function(){var e=Object(l.a)(i.a.mark((function e(t,n,r,a){var c,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"admin"!==n){e.next=10;break}return e.next=4,fetch("".concat(f,"/post/owned?limit=").concat(r,"&page=").concat(a),{method:"GET",headers:{Authorization:"Bearer ".concat(t)}});case 4:return c=e.sent,e.next=7,c.json();case 7:return s=e.sent,console.log(s),e.abrupt("return",s);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,n,r,a){return e.apply(this,arguments)}}(),j.Toggle=function(){var e=Object(l.a)(i.a.mark((function e(t,n,r){var a,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"admin"!==n){e.next=10;break}return e.next=4,fetch("".concat(f,"/post/toggle/").concat(r),{method:"PATCH",headers:{Authorization:"Bearer ".concat(t)}});case 4:return a=e.sent,e.next=7,a.json();case 7:return c=e.sent,console.log(c),e.abrupt("return",c);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log();case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,n,r){return e.apply(this,arguments)}}(),j.Update=function(){var e=Object(l.a)(i.a.mark((function e(t,n,r){var a,c,s,o,l,u=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=u.length>3&&void 0!==u[3]?u[3]:"",c=u.length>4&&void 0!==u[4]?u[4]:"",s=u.length>5&&void 0!==u[5]?u[5]:"",e.prev=3,"admin"!==n){e.next=13;break}return e.next=7,fetch("".concat(f,"/post/update/").concat(r),{method:"PUT",headers:{Authorization:"Bearer ".concat(t),"Content-type":"application/json"},body:JSON.stringify({title:"".concat(a),description:"".concat(c),image:"".concat(s)})});case 7:return o=e.sent,e.next=10,o.json();case 10:return l=e.sent,console.log(l),e.abrupt("return",l);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(3),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[3,15]])})));return function(t,n,r){return e.apply(this,arguments)}}(),j.Commet=function(){var e=Object(l.a)(i.a.mark((function e(t,n,r){var a,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(r="")){e.next=5;break}return e.abrupt("return",{});case 5:return e.next=7,fetch("".concat(f,"/post/comment/").concat(n),{method:"PATCH",headers:{Authorization:"Bearer ".concat(t),"Content-type":"application/json"},body:JSON.stringify({description:"".concat(r)})});case 7:return a=e.sent,e.next=10,a.json();case 10:return c=e.sent,console.log(c),e.abrupt("return",c);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log();case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t,n,r){return e.apply(this,arguments)}}(),j.GetAll=function(){var e=Object(l.a)(i.a.mark((function e(t,n,r){var a,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(f,"/post/all?limit=").concat(n,"&page=").concat(r),{method:"GET",headers:{Authorization:"Bearer ".concat(t)}});case 3:return a=e.sent,e.next=6,a.json();case 6:return c=e.sent,console.log(c),e.abrupt("return",c);case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n,r){return e.apply(this,arguments)}}(),j.Like=function(){var e=Object(l.a)(i.a.mark((function e(t,n){var r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(f,"/post/like/").concat(n),{method:"PATCH",headers:{Authorization:"Bearer ".concat(t)}});case 3:return r=e.sent,e.next=6,r.json();case 6:return a=e.sent,e.abrupt("return",a);case 10:e.prev=10,e.t0=e.catch(0),console.log();case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}(),j.AddFavorite=function(){var e=Object(l.a)(i.a.mark((function e(t,n){var r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(f,"/post/fav/").concat(n),{method:"PATCH",headers:{Authorization:"Bearer ".concat(t)}});case 3:return r=e.sent,e.next=6,r.json();case 6:return a=e.sent,console.log(a),e.abrupt("return",a);case 11:e.prev=11,e.t0=e.catch(0),console.log();case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}(),j.GetFavorite=function(){var e=Object(l.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(f,"/post/fav"),{method:"GET",headers:{Authorization:"Bearer ".concat(t)}});case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,console.log(r),e.abrupt("return",r);case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),j.GetOne=function(){var e=Object(l.a)(i.a.mark((function e(t,n){var r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(f,"/post/one/").concat(n),{method:"GET",headers:{Authorization:"Bearer ".concat(t)}});case 3:return r=e.sent,e.next=6,r.json();case 6:return a=e.sent,console.log(a),e.abrupt("return",a);case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}();var m=j,x=n(1),p=a.a.createContext(),h="token",O=function(e){var t=Object(r.useState)(void 0),n=Object(u.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)(void 0),o=Object(u.a)(s,2),d=o[0],f=o[1],j=function(e){localStorage.setItem(h,e),c(e)};Object(r.useEffect)((function(){var e=function(){var e=Object(l.a)(i.a.mark((function e(){var t,n,r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=v())){e.next=8;break}return e.next=4,m.verifyToken(t);case 4:n=e.sent,r=n.username,a=n.role,r&&a&&(f({username:r,role:a}),j(t));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[a]);var O=Object(r.useCallback)((function(e,t){var n=function(){var n=Object(l.a)(i.a.mark((function n(){var r,a,c;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=!1,n.prev=1,n.next=4,m.loginAdmin(e,t);case 4:a=n.sent,(c=a.token)&&(j(c),r=!0),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(1),console.error(n.t0),console.error("Error in credentials");case 13:return n.prev=13,n.abrupt("return",r);case 16:case"end":return n.stop()}}),n,null,[[1,9,13,16]])})));return function(){return n.apply(this,arguments)}}();return n()}),[]),g=Object(r.useCallback)((function(){f(void 0),j(void 0)}),[]),w=Object(r.useMemo)((function(){return{token:a,user:d,login:O,Exit:g}}),[a,d,O,g]);return Object(x.jsx)(p.Provider,Object(b.a)({value:w},e))},g=function(){var e=a.a.useContext(p);if(!e)throw new Error("useUserContext() must be inside of UserProvider");return e},v=function(){return localStorage.getItem(h)},w=n(65),y=n(64),k=n(20),N=(n(39),{admin:"/admin",user:"/user"});function C(){var e=g(),t=Object(d.g)(),n=g(),a=n.login,c=(n.token,Object(r.useState)(!1)),s=Object(u.a)(c,2),o=(s[0],s[1]),b=Object(r.useState)(""),f=Object(u.a)(b,2),j=f[0],m=f[1],p=Object(r.useState)(""),h=Object(u.a)(p,2),O=h[0],v=h[1],C=function(e,t){t(e.target.value)},A=function(){var e=Object(l.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==j&&""!==O){e.next=5;break}k.b.error("Usuario o contrase\xf1a vacios"),e.next=12;break;case 5:return e.next=7,a(j,O);case 7:n=e.sent,o(!n),m(""),v(""),n||k.b.error("Usuario o contrase\xf1a incorrectos");case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){var n;e.user&&t(null!==(n=N[e.user.role])&&void 0!==n?n:"/")}),[e.user]),Object(x.jsx)("section",{className:"bg-gray-600",children:Object(x.jsxs)("form",{onSubmit:A,className:"flex flex-col justify-center items-center\r w-80 max-w-screen-sm mx-auto h-screen md:w-auto",children:[Object(x.jsx)(k.a,{position:"top-center",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(x.jsxs)("div",{className:"space-y-5 bg-gray-700 px-20 py-20 rounded-md",children:[Object(x.jsxs)("div",{className:"flex flex-col space-y-1",children:[Object(x.jsxs)("label",{htmlFor:"username",className:"text-white inline-flex gap-2 text-xl font-bold items-center",children:["Usuario ",Object(x.jsx)(y.a,{})]}),Object(x.jsx)("input",{type:"text",value:j,placeholder:"Ingresa tu usuario",onChange:function(e){return C(e,m)},className:"rounded-lg py-2 px-1"})]}),Object(x.jsxs)("div",{className:"flex flex-col space-y-1",children:[Object(x.jsxs)("label",{htmlFor:"password",className:"text-white  inline-flex  gap-2 text-xl items-center font-bold",children:["Contrase\xf1a ",Object(x.jsx)(w.a,{})]}),Object(x.jsx)("input",{type:"password",value:O,placeholder:"Contrase\xf1a",onChange:function(e){return C(e,v)},className:"rounded-lg py-2 px-1"})]}),Object(x.jsx)("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg w-full",children:"Ingresar"})]})]})})}var A=function(e){var t=e.role,n=void 0===t?"user":t,r=e.children,a=g(),c=a.token,s=a.user;return c?s&&s.role===n?r:Object(x.jsx)(d.a,{replace:!0,to:"/404"}):Object(x.jsx)(d.a,{replace:!0,to:"/login"})};function S(){var e=Object(d.g)();return Object(x.jsx)("section",{className:"bg-gray-700",children:Object(x.jsx)("div",{className:"flex flex-col justify-center items-center\r w-80 max-w-screen-sm mx-auto h-screen md:w-auto ",children:Object(x.jsx)("button",{onClick:function(){e("/Login")},className:"bg-gray-400 animate-pulse rounded-3xl text-lg h-52 w-80 p-3 border-4 focus:animate-none",children:" ENTRAR A UCA PAGES"})})})}var z=n(67),E=n(68),T=n(66),F=function(e){return Object(x.jsxs)("div",{className:"py-2",children:[Object(x.jsxs)("h1",{className:"font-bold text-lg text-blue-600",children:[e.username,":"]}),Object(x.jsx)("p",{children:e.description})]})};function P(e){var t=g(),n=(t.login,t.token),a=Object(r.useState)(""),c=Object(u.a)(a,2),s=c[0],o=c[1],d=Object(r.useState)(e.likes.length),b=Object(u.a)(d,2),f=b[0],j=b[1],p=Object(r.useState)(e.comments),h=Object(u.a)(p,2),O=h[0],v=h[1],w=function(){var t=Object(l.a)(i.a.mark((function t(){var r,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.verifyToken(n);case 2:r=t.sent,a=r.username,o(a),console.log(a),v(e.comments);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),y=Object(r.useState)(e.likes.some((function(e){return e.username===s}))),k=Object(u.a)(y,2),N=k[0],C=k[1];function A(){return(A=Object(l.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.Like(n,e.id);case 2:N?(j(f-1),C(!1)):(j(f+1),C(!0));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function S(){return(S=Object(l.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.AddFavorite(n,e.id);case 2:t.sent;case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(r.useEffect)((function(){w()}),[]),Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("div",{className:"p-4 sm:w-1/2 lg:w-1/3",children:Object(x.jsxs)("div",{className:"h-full border-2 border-gray-200 border-opacity-60 rounded-lg overflow-hidden",children:[Object(x.jsx)("img",{className:"lg:h-72 md:h-48 w-full object-cover object-center",src:e.image,alt:"Post img"}),Object(x.jsxs)("div",{className:"p-6 transition duration-300 ease-in",children:[Object(x.jsx)("h2",{className:"text-sm font-medium text-gray-400 mb-1",children:new Date(e.createdAt).toLocaleDateString()}),Object(x.jsx)("h1",{className:"text-2xl font-semibold mb-3",children:e.title}),Object(x.jsx)("p",{className:"leading-relaxed mb-3",children:e.description}),Object(x.jsxs)("div",{className:"flex items-center flex-wrap ",children:[Object(x.jsx)("a",{className:"text-indigo-300 inline-flex items-center md:mb-2 lg:mb-0",children:e.username}),Object(x.jsxs)("span",{className:"text-gray-400 mr-3 inline-flex space-x-3 items-center lg:ml-auto md:ml-0 ml-auto leading-none text-sm pr-3 py-1 border-r-2 border-gray-200",children:[Object(x.jsx)(T.a,{className:"cursor-pointer"}),e.comments.length,Object(x.jsx)(z.a,{className:"cursor-pointer ".concat(N&&"text-yellow-400"),onClick:function(){return A.apply(this,arguments)}}),e.likes.length]}),Object(x.jsx)("button",{className:"text-yellow-400 inline-flex items-center leading-none text-sm cursor-pointer",children:Object(x.jsx)(E.a,{className:"cursor-pointer",onClick:function(){return S.apply(this,arguments)}})})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("h2",{className:"text-lg font-semibold text-center text-gray-400 mt-4",children:"Comentarios"}),e.comments&&O.map((function(e){return Object(x.jsx)(F,{username:e.user.username,description:e.description},e.id)}))]})]})]})})})}var L=function(){var e=Object(r.useState)(0),t=Object(u.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)([]),s=Object(u.a)(c,2),o=s[0],d=s[1],b=g(),f=(b.login,b.token);Object(r.useEffect)((function(){h()}),[]);var j=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(n+1),e.next=4,h();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(n-1),e.next=4,h();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(l.a)(i.a.mark((function e(){var t,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.GetAll(f,6,n);case 2:t=e.sent,r=t.data,d(r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"flex flex-wrap",children:o.map((function(e){return Object(x.jsx)(P,{createdAt:e.createdAt,id:e._id,title:e.title,username:e.user.username,description:e.description,image:e.image,likes:e.likes,comments:e.comments,isOwnedPage:!1},e._id)}))}),Object(x.jsxs)("div",{className:"flex justify-center space-x-5 mb-3",children:[Object(x.jsx)("button",{className:"bg-blue-300 p-3 rounded",onClick:p,children:"Anterior"}),Object(x.jsx)("button",{className:"bg-red-300 p-3 rounded",onClick:j,children:"Siguiente"})]})]})};function B(){var e=Object(d.g)(),t=g().Exit,n=g();n.login,n.token;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("section",{className:"relative w-full px-8 text-white bg-gray-800 body-font",children:Object(x.jsxs)("div",{className:"container flex flex-col flex-wrap items-center justify-between py-5 mx-auto md:flex-row max-w-7xl",children:[Object(x.jsx)("a",{href:"#_",className:"relative z-10 flex items-center w-auto text-2xl font-extrabold leading-none select-none",children:"UCA pages"}),Object(x.jsxs)("nav",{onClick:function(){e("/userfavorite")},className:"top-0 left-0 z-0 cursor-pointer flex items-center justify-center w-full h-full py-5 -ml-0 space-x-5 text-base md:-ml-5 md:py-0 md:absolute",children:[Object(x.jsxs)("a",{className:"relative font-medium leading-6 p-5 rounded-lg hover:bg-gray-400 cursor-pointer transition duration-150 ease-out ",children:[Object(x.jsx)("span",{className:"block",children:"Home"}),Object(x.jsx)("span",{className:"absolute bottom-0 left-0 inline-block w-full h-0.5 -mb-1 overflow-hidden",children:Object(x.jsx)("span",{"x-show":"hover",className:"absolute inset-0 inline-block w-full h-1 h-full transform "})})]}),Object(x.jsxs)("a",{className:"relative font-medium leading-6 p-5 rounded-lg hover:bg-gray-400 transition duration-150 ease-out ","x-data":"{ hover: false }",children:[Object(x.jsx)("span",{className:"block",children:"Favorites"}),Object(x.jsx)("span",{className:"absolute bottom-0 left-0 inline-block w-full h-0.5 -mb-1 overflow-hidden",children:Object(x.jsx)("span",{"x-show":"hover",className:"absolute inset-0 inline-block w-full h-1 h-full transform "})})]})]}),Object(x.jsx)("div",{class:"relative z-10 inline-flex items-center space-x-3 md:ml-5 lg:justify-end",children:Object(x.jsx)("span",{class:"inline-flex rounded-md shadow-sm",children:Object(x.jsx)("a",{href:"#",class:"inline-flex items-center justify-center px-4 py-2 text-base font-medium leading-6 text-white whitespace-no-wrap bg-blue-600 border border-blue-700 rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",onClick:function(){t(),e("/Login")},children:"Logout"})})})]})}),Object(x.jsx)(L,{})]})}var G=n(70),U=n(69);function _(e){var t=g(),n=(t.login,t.token),a=Object(r.useState)(""),c=Object(u.a)(a,2),s=c[0],o=c[1],d=Object(r.useState)(e.likes.length),b=Object(u.a)(d,2),f=b[0],j=b[1],p=Object(r.useState)(e.comments),h=Object(u.a)(p,2),O=h[0],v=h[1],w=Object(r.useState)(!1),y=Object(u.a)(w,2),k=(y[0],y[1],function(){var t=Object(l.a)(i.a.mark((function t(){var r,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.verifyToken(n);case 2:r=t.sent,a=r.username,o(a),v(e.comments),console.log(a),console.log(O);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()),N=Object(r.useState)(e.likes.some((function(e){return e.username===s}))),C=Object(u.a)(N,2),A=C[0],S=C[1];function T(){return(T=Object(l.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.Like(n,e.id);case 2:A?(j(f-1),S(!1)):(j(f+1),S(!0));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(r.useEffect)((function(){k()}),[]),Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("div",{className:"p-4 sm:w-1/2 lg:w-1/3",children:Object(x.jsxs)("div",{className:"h-full border-2 border-gray-200 border-opacity-60 rounded-lg overflow-hidden",children:[Object(x.jsx)("img",{className:"lg:h-72 md:h-48 w-full object-cover object-center",src:e.image,alt:"Post img"}),Object(x.jsxs)("div",{className:"p-6 transition duration-300 ease-in",children:[Object(x.jsx)("h2",{className:"text-sm font-medium text-gray-400 mb-1",children:new Date(e.createdAt).toLocaleDateString()}),Object(x.jsx)("h1",{className:"text-2xl font-semibold mb-3",children:e.title}),Object(x.jsx)("p",{className:"leading-relaxed mb-3",children:e.description}),Object(x.jsxs)("div",{className:"flex items-center flex-wrap ",children:[Object(x.jsx)("a",{className:"text-indigo-300 inline-flex items-center md:mb-2 lg:mb-0",children:e.username}),Object(x.jsxs)("span",{className:"text-gray-400 cursor-pointer mr-10 inline-flex items-center lg:ml-auto md:ml-0 ml-auto leading-none text-sm border-gray-200",children:[Object(x.jsx)(z.a,{className:"cursor-pointer ".concat(A&&"text-yellow-400"),onClick:function(){return T.apply(this,arguments)}}),e.likes.length]}),Object(x.jsx)("span",{className:"text-gray-400 inline-flex items-center leading-none text-sm",children:Object(x.jsx)(E.a,{})}),Object(x.jsx)("span",{className:"text-gray-400 inline-flex items-center leading-none text-sm",children:Object(x.jsx)(U.a,{})}),Object(x.jsx)("span",{className:"text-gray-400 inline-flex items-center leading-none text-sm cursor-pointer",children:Object(x.jsx)(G.a,{})})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("h2",{className:"text-lg font-semibold text-center text-gray-400 mt-4",children:"Comentarios"}),e.comments&&O.map((function(e){return Object(x.jsx)(F,{username:e.user.username,description:e.description},e.id)}))]})]})]})})})}var H=function(){var e=Object(r.useState)(0),t=Object(u.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)([]),s=Object(u.a)(c,2),o=s[0],d=s[1],b=g(),f=(b.login,b.token);Object(r.useEffect)((function(){h()}),[]);var j=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(n+1),e.next=4,h();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(n-1),e.next=4,h();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(l.a)(i.a.mark((function e(){var t,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.GetAll(f,6,n);case 2:t=e.sent,r=t.data,d(r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"flex flex-wrap",children:o.map((function(e){return Object(x.jsx)(_,{createdAt:e.createdAt,id:e._id,title:e.title,username:e.user.username,description:e.description,image:e.image,likes:e.likes,comments:e.comments,isOwnedPage:!1},e._id)}))}),Object(x.jsxs)("div",{className:"flex justify-center space-x-5 pb-5",children:[Object(x.jsx)("button",{className:"bg-blue-300 p-3 rounded",onClick:p,children:"Anterior"}),Object(x.jsx)("button",{className:"bg-red-300 p-3 rounded",onClick:j,children:"Siguiente"})]})]})};n(14),n(30),n(61);function D(){var e=Object(d.g)(),t=g().Exit,n=g(),r=(n.login,n.token,function(){e("/ownposts")}),a=function(){e("/createpost")};return Object(x.jsxs)("div",{children:[Object(x.jsx)("section",{className:"relative w-full px-8 text-white bg-gray-800 body-font",children:Object(x.jsxs)("div",{className:"container flex flex-col flex-wrap items-center justify-between py-5 mx-auto md:flex-row max-w-7xl",children:[Object(x.jsx)("a",{href:"#_",className:"relative z-10 flex items-center w-auto text-2xl font-extrabold leading-none select-none",children:"UCA pages"}),Object(x.jsxs)("nav",{className:"top-0 left-0 z-0 flex items-center justify-center w-full h-full py-5 -ml-0 space-x-5 text-base md:-ml-5 md:py-0 md:absolute",children:[Object(x.jsxs)("a",{href:"#_",className:"relative font-medium leading-6 p-5 rounded-lg hover:bg-gray-400 transition duration-150 ease-out ",children:[Object(x.jsx)("span",{className:"block",children:"Home"}),Object(x.jsx)("span",{className:"absolute bottom-0 left-0 inline-block w-full h-0.5 -mb-1 overflow-hidden",children:Object(x.jsx)("span",{"x-show":"hover",className:"absolute inset-0 inline-block w-full h-1 h-full transform "})})]}),Object(x.jsxs)("a",{onClick:r,className:"relative font-medium leading-6 p-5 rounded-lg hover:bg-gray-400 transition duration-150 ease-out ","x-data":"{ hover: false }",children:[Object(x.jsx)("span",{className:"block",children:"Owned"}),Object(x.jsx)("span",{className:"absolute bottom-0 left-0 inline-block w-full h-0.5 -mb-1 overflow-hidden",children:Object(x.jsx)("span",{"x-show":"hover",className:"absolute inset-0 inline-block w-full h-1 h-full transform "})})]}),Object(x.jsxs)("a",{onClick:r,className:"relative font-medium leading-6 p-5 rounded-lg hover:bg-gray-400 transition duration-150 ease-out ","x-data":"{ hover: false }",children:[Object(x.jsx)("span",{className:"block",children:"Update"}),Object(x.jsx)("span",{className:"absolute bottom-0 left-0 inline-block w-full h-0.5 -mb-1 overflow-hidden",children:Object(x.jsx)("span",{"x-show":"hover",className:"absolute inset-0 inline-block w-full h-1 h-full transform "})})]}),Object(x.jsxs)("a",{onClick:a,className:"relative font-medium leading-6 p-5 rounded-lg hover:bg-gray-400 transition duration-150 ease-out ","x-data":"{ hover: false }",children:[Object(x.jsx)("span",{className:"block",children:"Create Post"}),Object(x.jsx)("span",{className:"absolute bottom-0 left-0 inline-block w-full h-0.5 -mb-1 overflow-hidden",children:Object(x.jsx)("span",{"x-show":"hover",className:"absolute inset-0 inline-block w-full h-1 h-full transform "})})]}),Object(x.jsxs)("a",{onClick:a,className:"relative font-medium leading-6 p-5 rounded-lg hover:bg-gray-400 transition duration-150 ease-out ","x-data":"{ hover: false }",children:[Object(x.jsx)("span",{className:"block",children:"Toggle"}),Object(x.jsx)("span",{className:"absolute bottom-0 left-0 inline-block w-full h-0.5 -mb-1 overflow-hidden",children:Object(x.jsx)("span",{"x-show":"hover",className:"absolute inset-0 inline-block w-full h-1 h-full transform "})})]})]}),Object(x.jsx)("div",{class:"relative z-10 inline-flex items-center space-x-3 md:ml-5 lg:justify-end",children:Object(x.jsx)("span",{class:"inline-flex rounded-md shadow-sm",children:Object(x.jsx)("a",{href:"#",class:"inline-flex items-center justify-center px-4 py-2 text-base font-medium leading-6 text-white whitespace-no-wrap bg-blue-600 border border-blue-700 rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",onClick:function(){t(),e("/Login")},children:"Logout"})})})]})}),Object(x.jsx)(H,{})]})}var I=n(31),J=n.n(I);function M(){var e=Object(d.g)(),t=g(),n=(t.login,t.token);m.GetFavorite(n);return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("section",{className:"relative w-full px-8 text-white bg-gray-800 body-font",children:Object(x.jsxs)("div",{className:"container flex flex-col flex-wrap items-center justify-between py-5 mx-auto md:flex-row max-w-7xl",children:[Object(x.jsx)("a",{href:"#_",className:"relative z-10 flex items-center w-auto text-2xl font-extrabold leading-none select-none",children:"UCA pages"}),Object(x.jsxs)("nav",{onClick:function(){e("/user")},className:"top-0 left-0 z-0 cursor-pointer flex items-center justify-center w-full h-full py-5 -ml-0 space-x-5 text-base md:-ml-5 md:py-0 md:absolute",children:[Object(x.jsxs)("a",{className:"relative font-medium leading-6 p-5 rounded-lg hover:bg-gray-400 cursor-pointer transition duration-150 ease-out ",children:[Object(x.jsx)("span",{className:"block",children:"Home"}),Object(x.jsx)("span",{className:"absolute bottom-0 left-0 inline-block w-full h-0.5 -mb-1 overflow-hidden",children:Object(x.jsx)("span",{"x-show":"hover",className:"absolute inset-0 inline-block w-full h-1 h-full transform "})})]}),Object(x.jsxs)("a",{className:"relative font-medium leading-6 p-5 rounded-lg hover:bg-gray-400 transition duration-150 ease-out ","x-data":"{ hover: false }",children:[Object(x.jsx)("span",{className:"block",children:"Favorites"}),Object(x.jsx)("span",{className:"absolute bottom-0 left-0 inline-block w-full h-0.5 -mb-1 overflow-hidden",children:Object(x.jsx)("span",{"x-show":"hover",className:"absolute inset-0 inline-block w-full h-1 h-full transform "})})]})]}),Object(x.jsx)("div",{class:"relative z-10 inline-flex items-center space-x-3 md:ml-5 lg:justify-end",children:Object(x.jsx)("span",{class:"inline-flex rounded-md shadow-sm",children:Object(x.jsx)("a",{href:"#",class:"inline-flex items-center justify-center px-4 py-2 text-base font-medium leading-6 text-white whitespace-no-wrap bg-blue-600 border border-blue-700 rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",onClick:function(){e("/Login")},children:"Logout"})})})]})}),Object(x.jsx)(J.a,{})]})}function R(){return Object(x.jsxs)("div",{children:[Object(x.jsx)("image",{src:"https://i.pinimg.com/originals/07/9c/3e/079c3ea0dce59cc171629800294b0f3d.jpg",alt:"err 404"}),Object(x.jsx)("h1",{children:"Error 404"}),Object(x.jsx)("p",{children:"Something went wrong, try: "}),Object(x.jsx)("button",{children:"Go to login"})]})}var q=function(){var e=Object(r.useState)(0),t=Object(u.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)([]),s=Object(u.a)(c,2),o=s[0],d=s[1],b=g(),f=(b.login,b.token);Object(r.useEffect)((function(){h()}),[]);var j=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(n+1),e.next=4,h();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(n-1),e.next=4,h();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(l.a)(i.a.mark((function e(){var t,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.Owned(f,"admin",6,n);case 2:t=e.sent,r=t.data,d(r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"flex flex-wrap",children:o.map((function(e){return Object(x.jsx)(_,{createdAt:e.createdAt,id:e._id,title:e.title,username:e.user.username,description:e.description,image:e.image,likes:e.likes,comments:e.comments,isOwnedPage:!1},e._id)}))}),Object(x.jsxs)("div",{className:"flex justify-center space-x-5 pb-5",children:[Object(x.jsx)("button",{className:"bg-blue-300 p-3 rounded",onClick:p,children:"Anterior"}),Object(x.jsx)("button",{className:"bg-red-300 p-3 rounded",onClick:j,children:"Siguiente"})]})]})};function K(){var e=Object(d.g)(),t=g().Exit,n=g();n.login,n.token;return Object(x.jsxs)("div",{children:[Object(x.jsx)("section",{className:"relative w-full px-8 text-white bg-gray-800 body-font",children:Object(x.jsxs)("div",{className:"container flex flex-col flex-wrap items-center justify-between py-5 mx-auto md:flex-row max-w-7xl",children:[Object(x.jsx)("a",{href:"#_",className:"relative z-10 flex items-center w-auto text-2xl font-extrabold leading-none select-none",children:"UCA pages"}),Object(x.jsx)("nav",{className:"top-0 left-0 z-0 flex items-center justify-center w-full h-full py-5 -ml-0 space-x-5 text-base md:-ml-5 md:py-0 md:absolute",children:Object(x.jsxs)("a",{onClick:function(){e("/admin")},className:"relative font-medium leading-6 p-5 rounded-lg hover:bg-gray-400 transition duration-150 ease-out ",children:[Object(x.jsx)("span",{className:"block",children:"Home"}),Object(x.jsx)("span",{className:"absolute bottom-0 left-0 inline-block w-full h-0.5 -mb-1 overflow-hidden",children:Object(x.jsx)("span",{"x-show":"hover",className:"absolute inset-0 inline-block w-full h-1 h-full transform "})})]})}),Object(x.jsx)("div",{class:"relative z-10 inline-flex items-center space-x-3 md:ml-5 lg:justify-end",children:Object(x.jsx)("span",{class:"inline-flex rounded-md shadow-sm",children:Object(x.jsx)("a",{href:"#",class:"inline-flex items-center justify-center px-4 py-2 text-base font-medium leading-6 text-white whitespace-no-wrap bg-blue-600 border border-blue-700 rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",onClick:function(){t(),e("/Login")},children:"Logout"})})})]})}),Object(x.jsx)(q,{})]})}var Q=n(12);var V=function(){return Object(x.jsx)(Q.a,{children:Object(x.jsxs)(d.d,{children:[Object(x.jsx)(d.b,{path:"/",element:Object(x.jsx)(S,{})}),Object(x.jsx)(d.b,{path:"/Login",element:Object(x.jsx)(C,{})}),Object(x.jsx)(d.b,{path:"/*",element:Object(x.jsx)(R,{})}),Object(x.jsx)(d.b,{path:"/admin",element:Object(x.jsxs)(A,{role:"admin",children:[" ",Object(x.jsx)(D,{})]})}),Object(x.jsx)(d.b,{path:"/ownposts",element:Object(x.jsxs)(A,{role:"admin",children:[" ",Object(x.jsx)(K,{})]})}),Object(x.jsx)(d.b,{path:"/user",element:Object(x.jsxs)(A,{role:"user",children:[" ",Object(x.jsx)(B,{})]})}),Object(x.jsx)(d.b,{path:"/userfavorite",element:Object(x.jsxs)(A,{role:"user",children:[" ",Object(x.jsx)(M,{})]})})]})})},W=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,71)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))};s.a.render(Object(x.jsx)(a.a.StrictMode,{children:Object(x.jsx)(O,{children:Object(x.jsx)(V,{})})}),document.getElementById("root")),W()}},[[62,1,2]]]);
//# sourceMappingURL=main.bde69715.chunk.js.map